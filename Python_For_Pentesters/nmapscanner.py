#!/usr/bin/env python3

## Basic python + nmap script.
## Following along Cristi Zot's Udemy Class 'Python for Penetration Testers'
## Thanks for the free course, it's been helpful!



import nmap
import sys

target = str(sys.argv[1])
ports = [21,22,80,139,443,8080]

scan_v = nmap.PortScanner()

print("\nScannning",target,"for ports 21,22,80,139,443 and 8080...\n")

#loop to scan for each port
for port in ports:
    portscan = scan_v.scan(target,str(port))
print("Port",port," is ",portscan["scan"][target]["tcp"][port]["state"])


#print the output
print("\nHost",target," is ",portscan["scan"][target]["status"]["state"])
                                                                            
